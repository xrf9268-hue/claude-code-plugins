# Claude Code æ’ä»¶å¹³å°å…¼å®¹æ€§æŒ‡å—

æœ¬æ–‡æ¡£è¯´æ˜å®˜æ–¹æ’ä»¶åœ¨ä¸åŒ Git å¹³å°ï¼ˆGitHubã€GitLabã€Bitbucketï¼‰ä¸Šçš„å…¼å®¹æ€§ã€‚

## ğŸ“‹ å¿«é€Ÿå‚è€ƒè¡¨

| æ’ä»¶å | GitHub | GitLab | Bitbucket | ä¾èµ–è¦æ±‚ |
|-------|--------|--------|-----------|---------|
| commit-commands | âœ… | âœ… | âœ… | Git |
| feature-dev | âœ… | âœ… | âœ… | æ—  |
| pr-review-toolkit | âœ… | âœ… | âœ… | Git |
| agent-sdk-dev | âœ… | âœ… | âœ… | Python/TypeScript |
| security-guidance | âœ… | âœ… | âœ… | Python 3 |
| explanatory-output-style | âœ… | âœ… | âœ… | æ—  |
| learning-output-style | âœ… | âœ… | âœ… | æ—  |
| **code-review** | âœ… | âŒ | âŒ | **GitHub CLI (gh)** |

## ğŸ” è¯¦ç»†è¯´æ˜

### å¹³å°æ— å…³æ’ä»¶ï¼ˆ7ä¸ªï¼‰

è¿™äº›æ’ä»¶å¯ä»¥åœ¨ä»»ä½• Git å¹³å°ä¸Šä½¿ç”¨ï¼š

#### **1. commit-commands**
- **åŠŸèƒ½**ï¼šGit å·¥ä½œæµè‡ªåŠ¨åŒ–
- **å‘½ä»¤**ï¼š`/commit`ã€`/commit-push-pr`ã€`/clean_gone`
- **ä¾èµ–**ï¼šGitï¼ˆæ‰€æœ‰å¹³å°éƒ½æ”¯æŒï¼‰
- **æ¨èåº¦**ï¼šâ­â­â­â­â­

#### **2. feature-dev**
- **åŠŸèƒ½**ï¼šå®Œæ•´çš„ç‰¹æ€§å¼€å‘å·¥ä½œæµ
- **åŒ…å«**ï¼šä»£ç æ¢ç´¢ã€æ¶æ„è®¾è®¡ã€è´¨é‡å®¡æŸ¥
- **ä¾èµ–**ï¼šæ— 
- **æ¨èåº¦**ï¼šâ­â­â­â­â­

#### **3. pr-review-toolkit**
- **åŠŸèƒ½**ï¼šPR/MR å®¡æŸ¥å·¥å…·åŒ…
- **åŒ…å« 6 ä¸ªä¸“åŒ–ä»£ç†**ï¼š
  - comment-analyzerï¼ˆæ³¨é‡Šåˆ†æï¼‰
  - pr-test-analyzerï¼ˆæµ‹è¯•è¦†ç›–ç‡ï¼‰
  - silent-failure-hunterï¼ˆé”™è¯¯å¤„ç†ï¼‰
  - type-design-analyzerï¼ˆç±»å‹è®¾è®¡ï¼‰
  - code-reviewerï¼ˆä»£ç è´¨é‡ï¼‰
  - code-simplifierï¼ˆä»£ç ç®€åŒ–ï¼‰
- **å·¥ä½œæ–¹å¼**ï¼šåŸºäº `git diff` åˆ†æ
- **è¾“å‡º**ï¼šç»ˆç«¯è¾“å‡ºï¼ˆéœ€è¦æ‰‹åŠ¨å¤åˆ¶åˆ° GitLab/Bitbucket MRï¼‰
- **æ¨èåº¦**ï¼šâ­â­â­â­â­ï¼ˆGitLab/Bitbucket çš„æœ€ä½³ä»£ç å®¡æŸ¥é€‰æ‹©ï¼‰

#### **4. agent-sdk-dev**
- **åŠŸèƒ½**ï¼šAgent SDK å¼€å‘å·¥å…·
- **ä¾èµ–**ï¼šPython æˆ– TypeScript
- **æ¨èåº¦**ï¼šâ­â­â­â­

#### **5. security-guidance**
- **åŠŸèƒ½**ï¼šå®‰å…¨æç¤ºé’©å­
- **æ£€æŸ¥**ï¼šXSSã€å‘½ä»¤æ³¨å…¥ã€ä¸å®‰å…¨ä»£ç æ¨¡å¼
- **ä¾èµ–**ï¼šPython 3
- **æ¨èåº¦**ï¼šâ­â­â­â­â­

#### **6. explanatory-output-style**
- **åŠŸèƒ½**ï¼šæ•™è‚²æ€§è¾“å‡ºé£æ ¼
- **ä¾èµ–**ï¼šæ— 
- **æ¨èåº¦**ï¼šâ­â­â­

#### **7. learning-output-style**
- **åŠŸèƒ½**ï¼šäº¤äº’å¼å­¦ä¹ æ¨¡å¼
- **ä¾èµ–**ï¼šæ— 
- **æ¨èåº¦**ï¼šâ­â­â­

### GitHub ä¸“ç”¨æ’ä»¶ï¼ˆ1ä¸ªï¼‰

#### **8. code-review**
- **åŠŸèƒ½**ï¼šè‡ªåŠ¨åŒ– PR ä»£ç å®¡æŸ¥
- **å¹³å°**ï¼šä»… GitHub
- **ä¾èµ–**ï¼šGitHub CLI (`gh`)
- **é™åˆ¶**ï¼š
  ```yaml
  allowed-tools: Bash(gh issue view:*), Bash(gh pr comment:*), etc.
  ```
- **ç‰¹ç‚¹**ï¼š
  - âœ… è‡ªåŠ¨åœ¨ GitHub PR ä¸Šå‘å¸ƒè¯„è®º
  - âœ… ç½®ä¿¡åº¦è¯„åˆ†ï¼ˆ80+ é˜ˆå€¼è¿‡æ»¤å‡é˜³æ€§ï¼‰
  - âœ… CLAUDE.md åˆè§„æ£€æŸ¥
  - âŒ ä¸æ”¯æŒ GitLab/Bitbucket

## ğŸ¢ ä¸åŒå¹³å°çš„æ¨èé…ç½®

### GitHub ç”¨æˆ·

```bash
# åŸºç¡€å¥—ä»¶
/plugin install commit-commands@claude-code-plugins
/plugin install security-guidance@claude-code-plugins

# ä»£ç å®¡æŸ¥ï¼ˆä¸¤ä¸ªéƒ½å¯ä»¥å®‰è£…ï¼‰
/plugin install code-review@claude-code-plugins        # è‡ªåŠ¨å‘å¸ƒè¯„è®º
/plugin install pr-review-toolkit@claude-code-plugins  # æ›´å…¨é¢çš„åˆ†æ

# å¼€å‘å·¥ä½œæµ
/plugin install feature-dev@claude-code-plugins
```

### GitLab ç”¨æˆ·

```bash
# åŸºç¡€å¥—ä»¶
/plugin install commit-commands@claude-code-plugins
/plugin install security-guidance@claude-code-plugins

# ä»£ç å®¡æŸ¥ï¼ˆæ¨èï¼‰
/plugin install pr-review-toolkit@claude-code-plugins

# å¼€å‘å·¥ä½œæµ
/plugin install feature-dev@claude-code-plugins
```

### Bitbucket ç”¨æˆ·

```bash
# åŸºç¡€å¥—ä»¶
/plugin install commit-commands@claude-code-plugins
/plugin install security-guidance@claude-code-plugins

# ä»£ç å®¡æŸ¥ï¼ˆæ¨èï¼‰
/plugin install pr-review-toolkit@claude-code-plugins

# å¼€å‘å·¥ä½œæµ
/plugin install feature-dev@claude-code-plugins
```

## ğŸ”§ GitLab/Bitbucket ä»£ç å®¡æŸ¥å·¥ä½œæµ

### ä½¿ç”¨ pr-review-toolkit

#### åŸºæœ¬ç”¨æ³•

```bash
# å®Œæ•´å®¡æŸ¥
/pr-review-toolkit:review-pr all

# ç‰¹å®šæ–¹é¢å®¡æŸ¥
/pr-review-toolkit:review-pr tests errors
/pr-review-toolkit:review-pr comments
/pr-review-toolkit:review-pr simplify

# å¹¶è¡Œå®¡æŸ¥ï¼ˆæ›´å¿«ï¼‰
/pr-review-toolkit:review-pr all parallel
```

#### é›†æˆåˆ° GitLab CI

åœ¨ `.gitlab-ci.yml` ä¸­ï¼š

```yaml
code-review:
  stage: test
  script:
    - npm install -g @anthropic-ai/claude-code
    - claude --non-interactive "/pr-review-toolkit:review-pr all" > review.md
    - glab mr comment -F review.md  # ä½¿ç”¨ GitLab CLI
  only:
    - merge_requests
```

#### é›†æˆåˆ° Bitbucket Pipelines

åœ¨ `bitbucket-pipelines.yml` ä¸­ï¼š

```yaml
pipelines:
  pull-requests:
    '**':
      - step:
          name: Code Review
          script:
            - npm install -g @anthropic-ai/claude-code
            - claude --non-interactive "/pr-review-toolkit:review-pr all" > review.md
            # ä½¿ç”¨ Bitbucket API å‘å¸ƒè¯„è®º
            - curl -X POST -H "Content-Type: application/json" \
                   -d @review.md \
                   https://api.bitbucket.org/2.0/repositories/.../pullrequests/.../comments
```

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”ï¼šcode-review vs pr-review-toolkit

| åŠŸèƒ½ | code-review | pr-review-toolkit |
|-----|-------------|-------------------|
| **å¹³å°æ”¯æŒ** | ä»… GitHub | æ‰€æœ‰ Git å¹³å° |
| **è‡ªåŠ¨å‘å¸ƒè¯„è®º** | âœ… | âŒï¼ˆéœ€æ‰‹åŠ¨/CIé›†æˆï¼‰ |
| **CLAUDE.md æ£€æŸ¥** | âœ… | âœ… |
| **Bug æ£€æµ‹** | âœ… | âœ… |
| **æµ‹è¯•è¦†ç›–ç‡åˆ†æ** | âŒ | âœ… |
| **é”™è¯¯å¤„ç†æ£€æŸ¥** | âŒ | âœ… |
| **ç±»å‹è®¾è®¡åˆ†æ** | âŒ | âœ… |
| **ä»£ç ç®€åŒ–å»ºè®®** | âŒ | âœ… |
| **ç½®ä¿¡åº¦è¯„åˆ†** | âœ…ï¼ˆ80+ï¼‰ | âŒ |
| **ä¸“åŒ–ä»£ç†æ•°é‡** | 4 ä¸ª | 6 ä¸ª |
| **å®¡æŸ¥æ·±åº¦** | ä¸­ç­‰ | æ·±å…¥ |

### é€‰æ‹©å»ºè®®

- **GitHub ç”¨æˆ·**ï¼šä¸¤ä¸ªéƒ½å¯ä»¥ç”¨
  - `code-review`ï¼šå¿«é€Ÿè‡ªåŠ¨å®¡æŸ¥ï¼Œè‡ªåŠ¨å‘å¸ƒè¯„è®º
  - `pr-review-toolkit`ï¼šæ›´å…¨é¢çš„æ·±åº¦åˆ†æ

- **GitLab/Bitbucket ç”¨æˆ·**ï¼šåªèƒ½ç”¨ `pr-review-toolkit`
  - åŠŸèƒ½æ›´å…¨é¢ï¼ˆ6 ä¸ªä¸“åŒ–ä»£ç†ï¼‰
  - éœ€è¦é…ç½® CI/CD è‡ªåŠ¨å‘å¸ƒè¯„è®ºï¼ˆå¯é€‰ï¼‰

## ğŸ’¡ æœ€ä½³å®è·µ

### GitLab/Bitbucket å›¢é˜Ÿé…ç½®

åœ¨é¡¹ç›® `.claude/settings.json` ä¸­ï¼š

```json
{
  "extraKnownMarketplaces": [
    {
      "source": {
        "source": "github",
        "repo": "anthropics/claude-code"
      }
    }
  ],
  "plugins": {
    "commit-commands": { "enabled": true },
    "feature-dev": { "enabled": true },
    "security-guidance": { "enabled": true },
    "pr-review-toolkit": { "enabled": true }
  }
}
```

**æ³¨æ„**ï¼šä¸è¦å¯ç”¨ `code-review` æ’ä»¶ï¼Œå› ä¸ºå®ƒåœ¨ GitLab/Bitbucket ä¸Šæ— æ³•å·¥ä½œã€‚

### åˆ›å»ºè‡ªå®šä¹‰å‘½ä»¤

å¯¹äº GitLab ç”¨æˆ·ï¼Œå¯ä»¥åœ¨ `.claude/commands/gitlab-review.md` åˆ›å»ºï¼š

```markdown
---
description: Review code and post to GitLab MR
---

1. è¿è¡Œå…¨é¢ä»£ç å®¡æŸ¥
2. ä½¿ç”¨ /pr-review-toolkit:review-pr all
3. è·å–å®¡æŸ¥ç»“æœåä½¿ç”¨ glab CLI å‘å¸ƒåˆ° MRï¼š
   - è¿è¡Œ `glab mr comment -m "$(ä¸Šä¸€æ­¥çš„è¾“å‡º)"`
```

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [Claude Code æ’ä»¶æ–‡æ¡£](https://docs.claude.com/en/docs/claude-code/plugins)
- [Plugin Marketplaces](https://docs.claude.com/en/docs/claude-code/plugin-marketplaces)
- [GitLab CLI (glab)](https://gitlab.com/gitlab-org/cli)
- [Bitbucket API](https://developer.atlassian.com/cloud/bitbucket/rest/api-group-pullrequests/)

## ğŸ“ æ€»ç»“

- **7/8 æ’ä»¶**é€‚ç”¨äºæ‰€æœ‰ Git å¹³å°ï¼ˆGitHubã€GitLabã€Bitbucketï¼‰
- **1/8 æ’ä»¶**ï¼ˆ`code-review`ï¼‰ä»…é€‚ç”¨äº GitHub
- GitLab/Bitbucket ç”¨æˆ·åº”ä½¿ç”¨ **`pr-review-toolkit`** è¿›è¡Œä»£ç å®¡æŸ¥
- æ‰€æœ‰å¹³å°éƒ½èƒ½äº«å— Claude Code æ’ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒä¼˜åŠ¿
